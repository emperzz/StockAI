---
alwaysApply: true
---

Always Respond in 中文

## 通用
- 优先保证代码简洁易懂
- 别搞过度设计，简单实用就好
- 写代码时，要注意复杂度，函数尽量小，尽量可以复用。尽量不写重复代码
- 写代码时，注意模块设计，尽量使用设计模式，并为代码添加必要注释
- 写代码时，函数内的工作要尽量简单，满足必须的功能需求就可以，不要过度增加额外功能
- 给我解释代码的时候，尽量使用通俗易懂的语言而非大量的专业术语。最好有图（mermaid风格）
- 帮我实现的时候，需要给出原理，并给出执行步骤，最好有图（mermaid风格）
- 改动或者解释前，最好看看所有代码，不能偷懒
- 改动前，要做最小化修改，尽量不修改到其他模块的代码
- 改动后，假定10条case输入，并给出预期结果
- 给出的mermaid图，必须自检语法，可以被渲染，在暗黑主体上清晰可见
- 给出的mermaid图，必要要可以被暗黑风格主体渲染清晰

## 试验性规则
当你被要求修复一个bug时，清遵循以下步骤
1. **理解问题（Understand）：** 仔细阅读bug描述和相关代码，复述你对问题的理解
2. **分析原因（Analyze）：** 提出至少两种可能的根本原因
3. **制定计划（Plan）：** 描述你打算如何验证这些原因，并给出修复方案
4. **请求确认（Confirm）：** 在动手前，向我确认你的计划
5. **执行修复（Execute）：** 实时修复
6. **审查（Review）：** 查看自己的修改有没有问题
7. **解释说明（Explain）：** 解释你做了哪些修修改以及为什么

## MCP Interactive Feedback 规则
1. 在任何流程、任务、对话进行时，无论是询问、回复、或完成阶段性任务，都必须调用MCP mcp-feedback-enhanced
2. 每当收到用户反馈，若反馈内容非空，必须再次调用MCP mcp-feedback-enhanced，并根据反馈内容调整行为
3. 当用户明确表示[结束]或[不再需要交互]时，才可以停止调用MCP mcp-feedback-enhanced，流程才算结束
4. 除非收到结束指令，否则所有步骤都必须重复调用MCP mcp-feedback-enhanced
5. 完成任务前，必须使用MCP mcp-feedback-enhanced工具向用户询问反馈

## 本项目
- 本项目是一个针对中国股市的AI分析项目
- 使用到的架构有langchain，langgraph，langgraph studio，gradio，akshare
- 其中langchain和langgraph作为后端核心框架，gradio作为前端框架，langgraph studio用于项目测试，akshare是关键的股票数据获取api
- 由于要使用langgraph studio作为测试平台，项目的目录结构要符合langgraph studio的要求
- 对应的文档入口
    - langgraph: https://langchain-ai.github.io/langgraph/; https://langchain-ai.github.io/langgraph/reference/
    - langchain: https://python.langchain.com/api_reference/
    - langgraph studio: https://github.langchain.ac.cn/langgraphjs/concepts/langgraph_studio/
    - gradio: https://gradio.org.cn/guides
    - akshare: https://akshare.akfamily.xyz/index.html
- 你可以使用MCP playwright读取需要的具体文档内容
- 本项目使用的环境为open_manus，如果你想测试或其他再terminal内运行python的程序，请先使用conda activate open_manus激活环境后再运行